option(PL_NETLIST_SIMULATOR_STUDY "PL_NETLIST_SIMULATOR_STUDY" OFF)

if(PL_NETLIST_SIMULATOR_STUDY OR BUILD_ALL_PLUGINS)

    find_package(Qt5 COMPONENTS Widgets REQUIRED)

    file(GLOB_RECURSE NETLIST_SIMULATOR_STUDY_INC ${CMAKE_CURRENT_SOURCE_DIR}/include/*.h)
    file(GLOB_RECURSE NETLIST_SIMULATOR_STUDY_SRC ${CMAKE_CURRENT_SOURCE_DIR}/src/*.cpp)
    file(GLOB_RECURSE NETLIST_SIMULATOR_STUDY_PYTHON_SRC ${CMAKE_CURRENT_SOURCE_DIR}/python/*.cpp)

    qt5_wrap_cpp(MOC_INC ${NETLIST_SIMULATOR_STUDY_INC})

    hal_add_plugin(netlist_simulator_study
        SHARED
        HEADER ${NETLIST_SIMULATOR_STUDY_INC}
        SOURCES ${NETLIST_SIMULATOR_STUDY_SRC} ${NETLIST_SIMULATOR_STUDY_PYTHON_SRC}  ${MOC_INC}
        LINK_LIBRARIES PUBLIC gui netlist_simulator_controller Qt5::Widgets
        PYDOC SPHINX_DOC_INDEX_FILE ${CMAKE_CURRENT_SOURCE_DIR}/documentation/netlist_simulator_study.rst
    )
endif()